(function(){"use strict";const elements={hamburger:document.querySelector(".hamburger"),navMenu:document.querySelector(".nav-menu"),header:document.querySelector(".header"),contactForm:document.querySelector(".contact-form")};function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}if(elements.hamburger){elements.hamburger.addEventListener("click",()=>{elements.hamburger.classList.toggle("active");elements.navMenu.classList.toggle("active")})}document.addEventListener("click",e=>{if(e.target.matches('a[href^="#"]')){e.preventDefault();const target=document.querySelector(e.target.getAttribute("href"));if(target&&elements.header){const headerHeight=elements.header.offsetHeight;const targetPosition=target.offsetTop-headerHeight;window.scrollTo({top:targetPosition,behavior:"smooth"});if(elements.hamburger&&elements.navMenu){elements.hamburger.classList.remove("active");elements.navMenu.classList.remove("active")}}}});const handleScroll=debounce(()=>{if(elements.header){if(window.scrollY>100){elements.header.style.background="rgba(255, 255, 255, 0.98)";elements.header.style.boxShadow="0 2px 20px rgba(0, 0, 0, 0.1)"}else{elements.header.style.background="rgba(255, 255, 255, 0.95)";elements.header.style.boxShadow="none"}}},10);window.addEventListener("scroll",handleScroll);const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"};const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("animate")}})},observerOptions);if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",initApp)}else{initApp()}function initApp(){const animateElements=document.querySelectorAll(".case-card, .about-content, .contact-content");animateElements.forEach(el=>{el.classList.add("scroll-animate");observer.observe(el)});if(elements.contactForm){elements.contactForm.addEventListener("submit",handleFormSubmit)}}function handleFormSubmit(e){e.preventDefault();const formData=new FormData(this);const name=formData.get("name");const email=formData.get("email");const message=formData.get("message");if(!name||!email||!message){showNotification("必須項目を入力してください。","error");return}if(!isValidEmail(email)){showNotification("有効なメールアドレスを入力してください。","error");return}showNotification("お問い合わせありがとうございます。後日ご連絡いたします。","success");this.reset()}function isValidEmail(email){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)}function showNotification(message,type="info"){const notification=document.createElement("div");notification.className=`notification notification-${type}`;notification.textContent=message;Object.assign(notification.style,{position:"fixed",top:"20px",right:"20px",padding:"1rem 1.5rem",borderRadius:"8px",color:"white",fontWeight:"500",zIndex:"1000",transform:"translateX(100%)",transition:"transform 0.3s ease",backgroundColor:type==="error"?"#e74c3c":type==="success"?"#27ae60":"#3498db"});document.body.appendChild(notification);setTimeout(()=>{notification.style.transform="translateX(0)"},100);setTimeout(()=>{notification.style.transform="translateX(100%)";setTimeout(()=>{if(notification.parentNode){notification.parentNode.removeChild(notification)}},300)},3e3)}})();