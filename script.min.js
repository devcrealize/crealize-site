const hamburger=document.querySelector(".hamburger");const navMenu=document.querySelector(".nav-menu");const header=document.querySelector(".header");const contactForm=document.querySelector(".contact-form");hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active");navMenu.classList.toggle("active")});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));if(target){const headerHeight=header.offsetHeight;const targetPosition=target.offsetTop-headerHeight;window.scrollTo({top:targetPosition,behavior:"smooth"});hamburger.classList.remove("active");navMenu.classList.remove("active")}})});window.addEventListener("scroll",()=>{if(window.scrollY>100){header.style.background="rgba(255, 255, 255, 0.98)";header.style.boxShadow="0 2px 20px rgba(0, 0, 0, 0.1)"}else{header.style.background="rgba(255, 255, 255, 0.95)";header.style.boxShadow="none"}});const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"};const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("animate")}})},observerOptions);document.addEventListener("DOMContentLoaded",()=>{const animateElements=document.querySelectorAll(".case-card, .about-content, .contact-content");animateElements.forEach(el=>{el.classList.add("scroll-animate");observer.observe(el)})});if(contactForm){contactForm.addEventListener("submit",function(e){e.preventDefault();const formData=new FormData(this);const name=formData.get("name");const email=formData.get("email");const company=formData.get("company");const message=formData.get("message");if(!name||!email||!message){showNotification("必須項目を入力してください。","error");return}if(!isValidEmail(email)){showNotification("有効なメールアドレスを入力してください。","error");return}showNotification("お問い合わせありがとうございます。後日ご連絡いたします。","success");this.reset()})}function isValidEmail(email){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return emailRegex.test(email)}function showNotification(message,type="info"){const existingNotification=document.querySelector(".notification");if(existingNotification){existingNotification.remove()}const notification=document.createElement("div");notification.className=`notification notification-${type}`;notification.innerHTML=`\n        <div class="notification-content">\n            <span class="notification-message">${message}</span>\n            <button class="notification-close">&times;</button>\n        </div>\n    `;notification.style.cssText=`\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: ${type==="success"?"#4CAF50":type==="error"?"#f44336":"#2196F3"};\n        color: white;\n        padding: 1rem 1.5rem;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        z-index: 10000;\n        transform: translateX(100%);\n        transition: transform 0.3s ease;\n        max-width: 400px;\n    `;document.body.appendChild(notification);setTimeout(()=>{notification.style.transform="translateX(0)"},100);const closeBtn=notification.querySelector(".notification-close");closeBtn.addEventListener("click",()=>{notification.style.transform="translateX(100%)";setTimeout(()=>{notification.remove()},300)});setTimeout(()=>{if(notification.parentNode){notification.style.transform="translateX(100%)";setTimeout(()=>{notification.remove()},300)}},5e3)}function animateNumbers(){const stats=document.querySelectorAll(".stat-number");stats.forEach(stat=>{const target=parseInt(stat.textContent);const duration=2e3;const step=target/(duration/16);let current=0;const timer=setInterval(()=>{current+=step;if(current>=target){current=target;clearInterval(timer)}stat.textContent=Math.floor(current)+(stat.textContent.includes("+")?"+":stat.textContent.includes("%")?"%":stat.textContent.includes("年")?"年":"")},16)})}const statsObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){animateNumbers();statsObserver.unobserve(entry.target)}})},{threshold:.5});document.addEventListener("DOMContentLoaded",()=>{const statsSection=document.querySelector(".about-stats");if(statsSection){statsObserver.observe(statsSection)}});document.addEventListener("DOMContentLoaded",()=>{const images=document.querySelectorAll("img[data-src]");const imageObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.classList.remove("lazy");imageObserver.unobserve(img)}})});images.forEach(img=>imageObserver.observe(img))});window.addEventListener("load",()=>{document.body.classList.add("loaded");if("performance"in window){const loadTime=performance.timing.loadEventEnd-performance.timing.navigationStart;console.log(`ページ読み込み時間: ${loadTime}ms`)}});window.addEventListener("error",e=>{console.error("JavaScriptエラー:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("未処理のPromise拒否:",e.reason)});document.addEventListener("DOMContentLoaded",()=>{const tabButtons=document.querySelectorAll(".tab-button");const tabPanels=document.querySelectorAll(".tab-panel");tabButtons.forEach(button=>{button.addEventListener("click",()=>{const targetTab=button.getAttribute("data-tab");tabButtons.forEach(btn=>btn.classList.remove("active"));tabPanels.forEach(panel=>panel.classList.remove("active"));button.classList.add("active");document.getElementById(targetTab).classList.add("active")})})});document.addEventListener("DOMContentLoaded",()=>{const faqItems=document.querySelectorAll(".faq-item");faqItems.forEach(item=>{const question=item.querySelector(".faq-question");question.addEventListener("click",()=>{const isActive=item.classList.contains("active");faqItems.forEach(otherItem=>{otherItem.classList.remove("active")});if(!isActive){item.classList.add("active")}})})});document.addEventListener("DOMContentLoaded",()=>{const floatingElements=document.querySelectorAll(".floating-element");if(floatingElements.length>0){let scrollY=0;window.addEventListener("scroll",()=>{scrollY=window.scrollY;floatingElements.forEach((element,index)=>{const speedMultiplier=1+scrollY*1e-4;element.style.animationDuration=`${8+index*2}s`;element.style.animationTimingFunction=`ease-in-out`})})}});document.addEventListener("DOMContentLoaded",()=>{const logoIcon=document.querySelector(".logo-icon");if(logoIcon){logoIcon.addEventListener("mouseenter",()=>{logoIcon.style.transform="scale(1.1) rotate(5deg)"});logoIcon.addEventListener("mouseleave",()=>{logoIcon.style.transform="scale(1) rotate(0deg)"})}});